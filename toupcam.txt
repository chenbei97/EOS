（1）获取连接的相机数量
        ToupcamDeviceV2 arr[TOUPCAM_MAX] = {0};
        unsigned count = Toupcam_EnumV2(arr);
（2）打开和关闭相机手柄
HToupcam hcam = nullptr;
ToupcamDeviceV2 device;
hcam = Toupcam_Open(device.id); id是char型
hcam = Toupcam_OpenByIndex(0); 这个传整数就可
Toupcam_Close(hcam);
hcam = nullptr;
（3）设置和获取视频分辨率
Toupcam_put_Size(hcam,2560,1280)
Toupcam_put_eSize(hcam, 0); 0=(2048,1536),1=(1024,768),2=(680,510)
Toupcam_get_eSize(HToupcam h, unsigned* pnResolutionIndex);
Toupcam_get_Size(HToupcam h, int* pWidth, int* pHeight);
unsigned imgWidth = device.model->res[resolutionIndex].width; // ToupcamResolution存了该相机的分辨率
unsigned imgHeight = device.model->res[resolutionIndex].height;
（4）设置RGB还是BGR
Toupcam_put_Option(hcam, TOUPCAM_OPTION_BYTEORDER, 0); // 因为QImage用的RGB所以设置0,1是BGR
int byteorder = 0;
Toupcam_get_Option(toupcam, TOUPCAM_OPTION_BYTEORDER, &byteorder);
byteorder?LOG<<"image is rgb":LOG<<"image is bgr";
（5）设置曝光方式
Toupcam_put_AutoExpoEnable(hcam, 1); // 0-禁止曝光 1-自动连续曝光 2-只曝光1次
Toupcam_get_AutoExpoEnable(HToupcam h, int* bAutoExposure);
（6）设置曝光和获取曝光
Toupcam_put_ExpoTime(toupcam, exp);
unsigned exp = 0;
Toupcam_get_ExpoTime(toupcam, &exp);
Toupcam_get_ExpTimeRange(toupcam,&s.min,&s.max,&s.def);
（7）设置增益和获取增益
Toupcam_put_ExpoAGain(toupcam, gain);
ushort g = 0;
Toupcam_get_ExpoAGain(toupcam, &g);
Toupcam_get_ExpoAGainRange(toupcam,&s.min,&s.max,&s.def);
#define TOUPCAM_EXPOGAIN_DEF 100     /* exposure gain, default value */
#define TOUPCAM_EXPOGAIN_MIN 100     /* exposure gain, minimum value */


// 定义了一个结构体的别名，关闭相机这用到
typedef struct Toupcam_t { int unused; } *HToupcam, *HToupCam;
TOUPCAM_API(HRESULT)  Toupcam_put_AutoExpoRange(HToupcam h, unsigned maxTime, unsigned minTime, unsigned short maxGain, unsigned short minGain);
TOUPCAM_API(HRESULT)  Toupcam_get_AutoExpoRange(HToupcam h, unsigned* maxTime, unsigned* minTime, unsigned short* maxGain, unsigned short* minGain);
exposure gain 默认值和最小值是100
TOUPCAM_API(HRESULT)  Toupcam_put_MaxAutoExpoTimeAGain(HToupcam h, unsigned maxTime, unsigned short maxGain);
TOUPCAM_API(HRESULT)  Toupcam_get_MaxAutoExpoTimeAGain(HToupcam h, unsigned* maxTime, unsigned short* maxGain);
TOUPCAM_API(HRESULT)  Toupcam_put_MinAutoExpoTimeAGain(HToupcam h, unsigned minTime, unsigned short minGain);
TOUPCAM_API(HRESULT)  Toupcam_get_MinAutoExpoTimeAGain(HToupcam h, unsigned* minTime, unsigned short* minGain);
TOUPCAM_API(HRESULT)  Toupcam_get_ExpoTime(HToupcam h, unsigned* Time); /* in microseconds */
TOUPCAM_API(HRESULT)  Toupcam_put_ExpoTime(HToupcam h, unsigned Time); /* in microseconds */
TOUPCAM_API(HRESULT)  Toupcam_get_RealExpoTime(HToupcam h, unsigned* Time); /* in microseconds, based on 50HZ/60HZ/DC */
TOUPCAM_API(HRESULT)  Toupcam_get_ExpTimeRange(HToupcam h, unsigned* nMin, unsigned* nMax, unsigned* nDef);


hue -180 ~ 180,默认0
SATURATION 0~255 默认128
BRIGHTNESS -64 ~ 64 默认0
CONTRAST -100 ~ 100
GAMMA 20~180 默认100

TOUPCAM_API(HRESULT)  Toupcam_get_ResolutionNumber(HToupcam h);
TOUPCAM_API(HRESULT)  Toupcam_get_Resolution(HToupcam h, unsigned nResolutionIndex, int* pWidth, int* pHeight);
TOUPCAM_API(HRESULT)  Toupcam_put_Hue(HToupcam h, int Hue);
TOUPCAM_API(HRESULT)  Toupcam_get_Hue(HToupcam h, int* Hue);
TOUPCAM_API(HRESULT)  Toupcam_put_Saturation(HToupcam h, int Saturation);
TOUPCAM_API(HRESULT)  Toupcam_get_Saturation(HToupcam h, int* Saturation);
TOUPCAM_API(HRESULT)  Toupcam_put_Brightness(HToupcam h, int Brightness);
TOUPCAM_API(HRESULT)  Toupcam_get_Brightness(HToupcam h, int* Brightness);
TOUPCAM_API(HRESULT)  Toupcam_get_Contrast(HToupcam h, int* Contrast);
TOUPCAM_API(HRESULT)  Toupcam_put_Contrast(HToupcam h, int Contrast);
TOUPCAM_API(HRESULT)  Toupcam_get_Gamma(HToupcam h, int* Gamma); /* percent */
TOUPCAM_API(HRESULT)  Toupcam_put_Gamma(HToupcam h, int Gamma);  /* percent */





// 分辨率结构体
typedef struct {
    unsigned    width;
    unsigned    height;
} ToupcamResolution;

// 照相机模型结构体
typedef struct {
    const wchar_t*      name;        /* model name, in Windows, we use unicode */
    unsigned long long  flag;        /* TOUPCAM_FLAG_xxx, 64 bits */
    unsigned            maxspeed;    /* number of speed level, same as Toupcam_get_MaxSpeed(), speed range = [0, maxspeed], closed interval */
    unsigned            preview;     /* number of preview resolution, same as Toupcam_get_ResolutionNumber() */
    unsigned            still;       /* number of still resolution, same as Toupcam_get_StillResolutionNumber() */
    unsigned            maxfanspeed; /* maximum fan speed, fan speed range = [0, max], closed interval */
    unsigned            ioctrol;     /* number of input/output control */
    float               xpixsz;      /* physical pixel size in micrometer */
    float               ypixsz;      /* physical pixel size in micrometer */
    ToupcamResolution   res[16];
} ToupcamModelV2; /* camera model v2 */

// 照相机实例结构体
typedef struct {
    wchar_t               displayname[64];    /* display name */
    wchar_t               id[64];             /* unique and opaque id of a connected camera, for Toupcam_Open */
    const ToupcamModelV2* model;
} ToupcamDeviceV2; /* camera instance for enumerating */

// 所有连接到照相机的照相机实例
oupcam_EnumV2(ToupcamDeviceV2 arr[TOUPCAM_MAX]);

// 打开指定ID或者索引的照相机实例
Toupcam_Open(const wchar_t* camId);
Toupcam_OpenByIndex(unsigned index); 

// 关闭/停止/暂停照相机,关闭后不能再使用HToupcam
Toupcam_Close(HToupcam h);
Toupcam_Stop(HToupcam h);
Toupcam_Pause(HToupcam h, int bPause); /* 1 => pause, 0 => continue */

// 触发相机？ 拍照？
Toupcam_Trigger(HToupcam h, unsigned short nNumber);
TOUPCAM_API(HRESULT)  Toupcam_PullImageV3(HToupcam h, void* pImageData, int bStill, int bits, int rowPitch, ToupcamFrameInfoV3* pInfo);
TOUPCAM_API(HRESULT)  Toupcam_WaitImageV3(HToupcam h, unsigned nWaitMS, void* pImageData, int bStill, int bits, int rowPitch, ToupcamFrameInfoV3* pInfo);

// 每一帧图像的包含信息
typedef struct {
    unsigned            width;
    unsigned            height;
    unsigned            flag;       /* TOUPCAM_FRAMEINFO_FLAG_xxxx */
    unsigned            seq;        /* frame sequence number */
    unsigned long long  timestamp;  /* microsecond */
} ToupcamFrameInfoV2;
typedef struct {
    unsigned            width;
    unsigned            height;
    unsigned            flag;       /* TOUPCAM_FRAMEINFO_FLAG_xxxx */
    unsigned            seq;        /* frame sequence number */
    unsigned long long  timestamp;  /* microsecond */
    unsigned            shutterseq; /* sequence shutter counter */
    unsigned            expotime;   /* exposure time */
    unsigned short      expogain;   /* exposure gain */
    unsigned short      blacklevel; /* black level */
} ToupcamFrameInfoV3;


